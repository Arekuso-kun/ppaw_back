<%- include('../partials/header', {title: "Edit user"}) %>

<div class="container-sm" style="max-width: 600px">
  <h1 class="mb-4 text-primary">Edit user: <%= user.name %></h1>
  <form method="POST" action="/users/edit/<%= user.userid %>" class="card p-4 shadow-sm bg-white">
    
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input type="text" name="name" class="form-control" value="<%= user.name %>" required />
    </div>
    
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" name="email" class="form-control" value="<%= user.email %>" required />
    </div>

    <div class="mb-3">
      <label class="form-label">Plan</label>
      <select name="planid" class="form-select" required>
        <% plans.forEach(plan => { %>
          <option value="<%= plan.planid %>" <%= (plan.planid === user.planid) ? 'selected' : '' %>>
            <%= plan.planname %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary">Save changes</button>
      <a href="/users" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </form>
</div>

<%- include('../partials/footer') %>